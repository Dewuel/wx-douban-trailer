<template name="movie-list">
  <scroll-view scroll-y="true" style="height: 100%" lower-threshold="200" bindscrolltolower="scrollHandler">

    <view class="list-item" wx:for="{{movies}}" wx:key="index" wx:for-item="movieData">

      <view class="movie-item" wx:for="{{movieData}}" wx:if="{{item}}" wx:key="{{item.key}}" bindtap="gotoDetail" data-movie-data="{{item}}">
        <image class="poster" mode="widthFix" lazy-load="true" src="{{'http://douban.newfq.com/' + item.posterKey + '?imageMogr2/thumbnail/x1680/crop/1080x1600'}}" />
        <view class="title">
          <text>{{item.rawTitle}} <text class="rate">{{item.rate}}</text></text>
        </view>
        <view class="year-type">
          <text>{{item.movieTypes}} / {{item.year}}</text>
        </view>
      </view>

    </view> 

    <view class="loading" wx:if="{{loading}}">
      <image src="/assets/loading/loading-bars.svg" model="widthFix"></image>
    </view> 
  </scroll-view>
</template>